(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["data"],{1697:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"breadcrumb_item",attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("数据统计")]),a("el-breadcrumb-item",[t._v("标准统计")])],1)],1),a("el-card",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部标准",name:"total"}},["total"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1),a("el-tab-pane",{attrs:{label:"国家标准",name:"country"}},["country"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1),a("el-tab-pane",{attrs:{label:"行业标准",name:"industry"}},["industry"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1),a("el-tab-pane",{attrs:{label:"地方标准",name:"local"}},["local"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1),a("el-tab-pane",{attrs:{label:"国际标准",name:"internet"}},["internet"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1)],1)],1)],1)},n=[],o=a("bac1"),i={components:{TableData:o["a"]},data:function(){return{activeName:"total",queryForm:{type:1},dataInfo:[]}},methods:{getPage:function(t){this.queryForm.page=t,this.loadData()},getSearch:function(t){this.queryForm=t,this.loadData()},loadData:function(){var t=this,e=Object.assign({},this.queryForm);delete e.chooseDate,this.httpGet("/data/stats/standard/"+this.queryForm.type,{},"",1).then((function(e){var a=[{title:"题录个数",count:e.totalCount},{title:"现行个数",count:e.useCount},{title:"包含文本个数",count:e.fileCount},{title:"标准下载个数",count:e.downloadCount},{title:"标准下载次数",count:e.downloadNumber}];t.dataInfo=a}))},handleClick:function(t,e){switch(this.activeName){case"total":this.queryForm.type=1;break;case"country":this.queryForm.type=2;break;case"industry":this.queryForm.type=3;break;case"local":this.queryForm.type=4;break;default:this.queryForm.type=5;break}this.loadData()}},mounted:function(){this.loadData()}},s=i,c=a("9ca4"),u=Object(c["a"])(s,r,n,!1,null,"01ac0db3",null);e["default"]=u.exports},"2eeb":function(t,e,a){"use strict";var r=a("1c8b"),n=a("5dfd").map,o=a("1ea7"),i=a("ff9c"),s=o("map"),c=i("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"73fb":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"breadcrumb_item",attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("数据统计")]),a("el-breadcrumb-item",[t._v("访问统计")])],1)],1),a("el-card",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"一周访问量",name:"week"}},["week"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1),a("el-tab-pane",{attrs:{label:"30天访问量",name:"month"}},["month"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1),a("el-tab-pane",{attrs:{label:"本年访问量",name:"year"}},["year"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1),a("el-tab-pane",{attrs:{label:"总访问量",name:"total"}},["total"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1),a("el-tab-pane",{attrs:{label:"日期统计",name:"date"}},["date"===t.activeName?a("TableData",{attrs:{dataInfo:t.dataInfo,queryForm:t.queryForm,activeName:t.activeName},on:{getPage:t.getPage,getSearch:t.getSearch}}):t._e()],1)],1)],1)],1)},n=[],o=a("bac1"),i={components:{TableData:o["a"]},data:function(){return{activeName:"week",queryForm:{chooseDate:"",startDate:"",endDate:"",queryType:1},dataInfo:[]}},methods:{getPage:function(t){this.queryForm.page=t,this.loadData()},getSearch:function(t){this.queryForm=t,this.loadData()},loadData:function(){var t=this,e=Object.assign({},this.queryForm);delete e.chooseDate,this.httpGet("/data/stats/visit",e,"",1).then((function(e){var a=[{title:"点击量",count:e.clickCount,type:-1},{title:"总访问量",count:e.viewCount,type:0},{title:"用户访问量",count:e.keyViewCount,type:1}];t.dataInfo=a}))},handleClick:function(t,e){switch(this.activeName){case"week":this.queryForm.queryType=1;break;case"month":this.queryForm.queryType=2;break;case"year":this.queryForm.queryType=3;break;case"total":this.queryForm.queryType=4;break;default:this.queryForm.queryType=5;break}this.loadData()}},mounted:function(){this.loadData()}},s=i,c=a("9ca4"),u=Object(c["a"])(s,r,n,!1,null,"e952bedc",null);e["default"]=u.exports},"84b6":function(t,e,a){},9302:function(t,e,a){"use strict";var r=a("1c8b"),n=a("692f"),o=a("da10"),i=a("d7e1"),s=[].join,c=n!=Object,u=i("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},bac1:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[5==t.queryInfo.queryType?a("div",{staticClass:"MT_fn_btn"},[a("el-form",{staticClass:"btn_right demo-form-inline",attrs:{inline:!0,model:t.queryInfo}},[a("el-form-item",{attrs:{label:"",prop:"keywords"}},[a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeDate},model:{value:t.queryInfo.chooseDate,callback:function(e){t.$set(t.queryInfo,"chooseDate",e)},expression:"queryInfo.chooseDate"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.onSubmit(e)}}},[t._v("搜索")])],1)],1)],1):t._e(),a("div",{staticClass:"MT_table_cont"},[t.queryForm.type?a("div",{staticClass:"btns"},[a("div",{staticClass:"btn_cont"},[a("div",{staticClass:"choose_btn _color"},[a("span",{on:{click:function(e){return e.stopPropagation(),t.exportStand(e)}}},[t._v("标准数据导出")])])])]):t._e(),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"title",label:"类型"}}),a("el-table-column",{attrs:{prop:"count",label:t.queryForm.type?"个/次数":"访问量"}}),t.queryForm.type?t._e():a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{underline:!1,type:"primary"},on:{click:function(a){return a.stopPropagation(),t.edit(e.row.type)}}},[t._v("查看")])]}}],null,!1,1294269469)})],1),t.queryInfo.total?a("div",{staticClass:"MT_pagination"},[a("span",{staticClass:"jump_first",on:{click:function(e){return e.stopPropagation(),t.$jumpToFirst(t.queryInfo,t.changePage)}}},[t._v("首页")]),a("span",{staticClass:"jump_last",on:{click:function(e){return e.stopPropagation(),t.$jumpToLast(t.queryInfo,t.changePage)}}},[t._v("尾页")]),a("el-pagination",{attrs:{background:"",total:t.queryInfo.total,"current-page":t.queryInfo.page,"page-size":t.queryInfo.size,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(e){return t.$set(t.queryInfo,"page",e)},"update:current-page":function(e){return t.$set(t.queryInfo,"page",e)},"update:pageSize":function(e){return t.$set(t.queryInfo,"size",e)},"update:page-size":function(e){return t.$set(t.queryInfo,"size",e)},"current-change":t.changePage}})],1):t._e()],1),a("el-dialog",{attrs:{title:"访问记录",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-divider"),a("div",{staticClass:"btns"},[a("div",{staticClass:"btn_cont"},[a("div",{staticClass:"choose_btn _color"},[a("span",{on:{click:function(e){return e.stopPropagation(),t.exportData(e)}}},[t._v("导出当前数据")])])])]),a("el-table",{staticClass:"detail",staticStyle:{width:"100%"},attrs:{data:t.detailTable}},[a("el-table-column",{attrs:{prop:"ipAddress",label:"访问IP地址"}}),a("el-table-column",{attrs:{prop:"userName",label:"访问用户名"}}),a("el-table-column",{attrs:{prop:"viewType",label:"访问类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.viewType?a("span",[t._v("点击")]):t._e(),0===e.row.viewType?a("span",[t._v("浏览")]):t._e(),1===e.row.viewType?a("span",[t._v("登录")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"viewTime",label:"访问时间"}})],1),t.query.total?a("div",{staticClass:"MT_pagination"},[a("span",{staticClass:"jump_first",on:{click:function(e){return e.stopPropagation(),t.$jumpToFirst(t.query,t.loadData)}}},[t._v("首页")]),a("span",{staticClass:"jump_last",on:{click:function(e){return e.stopPropagation(),t.$jumpToLast(t.query,t.loadData)}}},[t._v("尾页")]),a("el-pagination",{attrs:{background:"",total:t.query.total,"current-page":t.query.page,"page-size":t.query.size,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(e){return t.$set(t.query,"page",e)},"update:current-page":function(e){return t.$set(t.query,"page",e)},"update:pageSize":function(e){return t.$set(t.query,"size",e)},"update:page-size":function(e){return t.$set(t.query,"size",e)},"current-change":t.loadData}})],1):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1)],1)},n=[],o=(a("9302"),a("2eeb"),a("fe8a"),{props:["dataInfo","queryForm"],data:function(){return{tableData:[],queryInfo:this.queryForm,dialogVisible:!1,detailTable:[],query:{size:20,page:1,total:"",viewType:"",queryType:""}}},methods:{onSubmit:function(){this.$emit("getSearch",this.queryInfo)},changePage:function(){this.$emit("getPage",this.queryInfo.page)},edit:function(t){this.dialogVisible=!0,this.query.viewType=t,this.loadData()},changeDate:function(t){t?(this.queryInfo.startDate=this.$moment(t[0]).format("YYYYMMDD"),this.queryInfo.endDate=this.$moment(t[1]).format("YYYYMMDD")):(this.queryInfo.startDate="",this.queryInfo.endDate="")},loadData:function(){var t=this;this.query.total="";var e=Object.assign({},this.query);e.queryType=this.queryInfo.queryType,e.startDate=this.queryInfo.startDate,e.endDate=this.queryInfo.endDate,this.httpGet("/data/stats/visit/detail",e).then((function(e){t.detailTable=e.rows,t.query.total=e.total}))},exportData:function(){var t=Object.assign({},this.query);t.total="",t.queryType=this.queryForm.queryType;var e=Object.keys(t).map((function(e){return e+"="+t[e]})),a="/data/stats/visit/detail/export?";window.open(this.$baseRequestUrl+a+e.join("&"))},exportStand:function(){var t="/data/stats/standard/export";window.open(this.$baseRequestUrl+t)}},watch:{dataInfo:function(t,e){this.tableData=t},activeName:function(t,e){}},mounted:function(){}}),i=o,s=(a("d8db"),a("9ca4")),c=Object(s["a"])(i,r,n,!1,null,"c59054b4",null);e["a"]=c.exports},d8db:function(t,e,a){"use strict";var r=a("84b6"),n=a.n(r);n.a},fe8a:function(t,e,a){var r=a("1c8b"),n=a("3553"),o=a("cbab"),i=a("efe2"),s=i((function(){o(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return o(n(t))}})}}]);
//# sourceMappingURL=data.01aa5de5.js.map